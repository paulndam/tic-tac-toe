{"ast":null,"code":"var _jsxFileName = \"/Users/paulndam/Documents/Wise-Rock-Tech-Interview/tic-tac-toe/frontend/tic-tac-toe/src/App.js\",\n  _s = $RefreshSig$();\nimport \"./App.css\";\nimport { io } from \"socket.io-client\";\nimport { useEffect, useState } from \"react\";\nimport GameBoard from \"./components/game-board/GameBoard\";\nimport WelcomeModal from \"./components/welcomeModal/WelcomeModal\";\nimport { GameStatus } from \"./components/utils/gameStatus\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst socket = io(\"http://localhost:8080\", {\n  path: \"/socket.io\"\n});\nfunction App() {\n  _s();\n  const [playerName, setPlayerName] = useState(\"\");\n  const [playerId, setPlayerId] = useState(null);\n  const [board, setBoard] = useState(Array(9).fill(null));\n  const [gameId, setGameId] = useState(\"\");\n  const [gameStarted, setGameStarted] = useState(false);\n  const [waitingForPlayer, setWaitingForPlayer] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [showNotificationMessage, setNotificationMessage] = useState(\"\");\n  const [isPlayerOne, setIsPlayerOne] = useState(false);\n  const [isPlayerTwo, setIsPlayerTwo] = useState(false);\n  const [availableGames, setAvailableGames] = useState([]);\n  const [sessionID, setSessionID] = useState(null);\n  const [isLoading, setIsLoading] = useState(true); // New loading state\n\n  useEffect(() => {\n    const session = sessionStorage.getItem(\"sessionID\");\n    console.log(\"session ======>\", session);\n    if (session) {\n      // Use a specific event for handling session validation responses\n      socket.on(\"sessionValidationResponse\", response => {\n        console.log(\"session response =======>\", response);\n        if (response.valid) {\n          updateGameStateFromResponse(response);\n          setIsLoading(false); // Validation complete, update loading state\n        } else {\n          sessionStorage.removeItem(\"sessionID\");\n          setIsLoading(false); // Validation failed, update loading state\n        }\n      });\n\n      // Emit the validateSession event and wait for the response\n      socket.emit(\"validateSession\", {\n        sessionID: session\n      });\n    } else {\n      setIsLoading(false); // No session ID, not loading\n    }\n\n    // Cleanup: Remove the listener on component unmount\n    return () => socket.off(\"sessionValidationResponse\");\n  }, []);\n  const updateGameStateFromResponse = response => {\n    // Consolidated game state update logic\n    setPlayerId(response.playerId);\n    setPlayerName(response.playerName);\n    setGameId(response.gameId);\n    setBoard(response.board);\n    setIsPlayerOne(response.isPlayerOne);\n    setGameStarted(response.gameStarted);\n    setIsPlayerTwo(response.isPlayerTwo);\n    // Additional updates as necessary...\n  };\n  const handleStartGame = () => {\n    if (!playerName.trim()) {\n      alert(\"Please enter a name.\");\n      return;\n    }\n    if (!playerId) {\n      setIsPlayerOne(true);\n      console.log(\"Creating Player...\");\n      socket.emit(\"createPlayer\", {\n        name: playerName.trim()\n      });\n      setWaitingForPlayer(true);\n    }\n  };\n  const handleJoinGameOrRegister = () => {\n    if (!playerName.trim() || gameId && !gameId.trim()) {\n      alert(\"Please enter a name and, if joining a game, a valid game ID.\");\n      return;\n    }\n    if (!playerId) {\n      console.log(gameId ? \"Joining Game as Player Two...\" : \"Creating Player and Game...\");\n      socket.emit(\"createPlayer\", {\n        name: playerName.trim(),\n        gameId: gameId || undefined\n      });\n    }\n  };\n  const handleNameChange = newName => {\n    setPlayerName(newName);\n  };\n  const handleGameIdChange = newGameId => {\n    setGameId(newGameId);\n  };\n  useEffect(() => {\n    const storedGameId = localStorage.getItem(\"gameId\");\n    const storedIsPlayerOne = localStorage.getItem(\"isPlayerOne\") === \"true\";\n    const storedGameStarted = localStorage.getItem(\"gameStarted\") === \"true\";\n    if (storedGameId) {\n      socket.emit(\"requestGameState\", {\n        gameId: storedGameId\n      });\n    } else {\n      setGameStarted(storedGameStarted && storedIsPlayerOne);\n    }\n  }, []);\n\n  // useEffect(() => {\n  //   const storedPlayerId = localStorage.getItem(\"playerId\");\n  //   const storedGameId = localStorage.getItem(\"gameId\");\n\n  //   // Only set isPlayerOne or gameStarted based on explicit server validation\n  //   if (storedGameId && storedPlayerId) {\n  //     // Request current game state from the server to validate\n  //     socket.emit(\"requestGameState\", { gameId: storedGameId });\n  //   }\n  // }, []);\n\n  useEffect(() => {\n    const session = sessionStorage.getItem(\"sessionID\");\n    if (session) {\n      setSessionID(session);\n      // Validate session with the server to restore state\n      socket.emit(\"validateSession\", {\n        sessionID: session\n      }, response => {\n        if (response.valid) {\n          // Assume response includes all necessary state information\n          setPlayerId(response.playerId);\n          setPlayerName(response.playerName);\n          setGameId(response.gameId);\n          setBoard(response.board);\n          setIsPlayerOne(response.isPlayerOne);\n          setGameStarted(response.gameStarted);\n          // handle other necessary state updates based on the response\n        } else {\n          // Handle invalid session scenario\n          sessionStorage.removeItem(\"sessionID\"); // Clear invalid session\n          setSessionID(null); // Reset session state\n          // Potentially navigate user to a start or join game screen\n        }\n      });\n    }\n  }, [socket]);\n  useEffect(() => {\n    const storedPlayerId = localStorage.getItem(\"playerId\");\n    const storedPlayerName = localStorage.getItem(\"playerName\");\n    const storedGameId = localStorage.getItem(\"gameId\");\n    const storedIsPlayerOne = localStorage.getItem(\"isPlayerOne\");\n    const storedGameStarted = localStorage.getItem(\"gameStarted\");\n    const savedBoard = localStorage.getItem(\"board\");\n    if (savedBoard) {\n      setBoard(JSON.parse(savedBoard));\n    }\n    if (storedPlayerId && storedPlayerName) {\n      setPlayerId(storedPlayerId);\n      setPlayerName(storedPlayerName);\n      setIsPlayerTwo(!isPlayerOne);\n    }\n\n    // if (storedGameId) {\n    //   setGameId(storedGameId);\n    //   setIsPlayerOne(storedIsPlayerOne === \"true\");\n    //   // if (!storedPlayerId) {\n    //   //   setIsPlayerOne(false);\n    //   // }\n    //   setGameStarted(storedGameStarted === \"true\" || storedIsPlayerOne === \"true\");\n\n    // }\n\n    // if(storedGameId){\n    //   console.log(\"Requesting game state for gameId:\", storedGameId);\n\n    //   socket.emit(\"requestGameState\",{gameId:storedGameId})\n    // }\n\n    const handlePlayerResponse = res => {\n      console.log(\"response from creating player ===>\", res);\n      if (res.sessionID) {\n        // Store the session ID in sessionStorage\n        sessionStorage.setItem(\"sessionID\", res.sessionID);\n        setSessionID(res.sessionID);\n      }\n      if (res.type === \"playerCreated\") {\n        const {\n          playerId,\n          name\n        } = res.player;\n        localStorage.setItem(\"playerId\", playerId);\n        localStorage.setItem(\"playerName\", name);\n        setPlayerId(playerId);\n        setPlayerName(name);\n        setIsPlayerTwo(false);\n      } else if (res.type === \"joinedGame\") {\n        const {\n          game,\n          playerTwo\n        } = res;\n        localStorage.setItem(\"gameId\", game.gameId);\n        localStorage.setItem(\"playerId\", playerTwo.id);\n        setGameId(game.gameId);\n        setGameStarted(true);\n        setIsPlayerTwo(true);\n        setWaitingForPlayer(false);\n        setNotificationMessage(`Joined game successfully. Your game ID: ${game.gameId}. Waiting for the game to start.`);\n      }\n    };\n    const handleGameResponse = res => {\n      console.log(\"response from creating game ===>\", res);\n      if (res.newGame) {\n        const {\n          gameId\n        } = res.newGame;\n        localStorage.setItem(\"gameId\", gameId);\n        localStorage.setItem(\"isPlayerOne\", \"true\");\n        setGameId(gameId);\n        setGameStarted(true);\n        setIsPlayerOne(true);\n        setWaitingForPlayer(true);\n      }\n    };\n    const handleGameJoinedResponse = response => {\n      console.log(\"Game join response:====>\", response);\n      if (response.type === \"gameJoined\") {\n        // Success, a player has joined the game\n        const {\n          updateGame,\n          playerTwo\n        } = response;\n        localStorage.setItem(\"gameId\", gameId);\n        setGameId(gameId);\n        setGameStarted(true);\n        setWaitingForPlayer(false);\n        setNotificationMessage(`Player ${playerTwo.name} has joined your game. The game has started!`);\n      } else if (response.type === \"error\") {\n        setErrorMessage(response.message);\n      }\n    };\n    const handleGameStateResponse = response => {\n      if (response.type === \"gameState\") {\n        const isCurrentPlayerOne = response.playerOneId === playerId;\n        const isCurrentPlayerTwo = response.playerTwoId === playerId;\n        setGameStarted(response.status !== GameStatus.Finished);\n        setIsPlayerOne(isCurrentPlayerOne);\n        setIsPlayerTwo(isCurrentPlayerTwo);\n        if (isCurrentPlayerTwo) {\n          setWaitingForPlayer(false);\n        }\n      } else if (response.type === \"error\") {}\n    };\n    const handleGameResetResponse = response => {\n      console.log(\"Game reset response:==>\", response);\n      if (response.type === \"gameReset\") {\n        setBoard(Array(9).fill(null)); // Reset the board state\n        setGameStarted(false);\n        setWaitingForPlayer(false);\n        console.log(\"Game has been reset\");\n      }\n    };\n\n    // Register socket event listeners\n    socket.on(\"playerResponse\", handlePlayerResponse);\n    socket.on(\"gameResponse\", handleGameResponse);\n    socket.on(\"gameJoinedResponse\", handleGameJoinedResponse);\n    socket.on(\"gameResetResponse\", handleGameResetResponse);\n    socket.on(\"gameStateResponse\", handleGameStateResponse);\n    socket.on(\"playerResponse\", error => {\n      if (error.type === \"error\") {\n        setErrorMessage(error.message);\n      }\n    });\n    socket.on(\"gameResponse\", error => {\n      if (error.type === \"error\") {\n        setErrorMessage(error.message);\n      }\n    });\n    return () => {\n      socket.off(\"playerResponse\", handlePlayerResponse);\n      socket.off(\"gameResponse\", handleGameResponse);\n      socket.off(\"gameJoinedResponse\", handleGameJoinedResponse);\n      socket.off(\"gameResetResponse\", handleGameResetResponse); // Fixed typo here\n      socket.off(\"gameStateResponse\", handleGameStateResponse);\n    };\n  }, [isPlayerOne, playerId, gameId]);\n  useEffect(() => {\n    if (isPlayerOne && !gameId) {\n      console.log(\"Player is Player One and no gameId exists, creating game...\");\n      socket.emit(\"createGame\", {\n        playerId: playerId\n      });\n    }\n  }, [isPlayerOne, gameId, playerId]);\n  useEffect(() => {\n    localStorage.setItem(\"board\", JSON.stringify(board));\n  }, [board]);\n  const makeMove = position => {\n    socket.emit(\"makeMove\", {\n      playerId,\n      gameId,\n      position\n    });\n  };\n  const handleResetGame = () => {\n    if (!gameId) {\n      console.log(\"No game to reset\");\n      return;\n    }\n    socket.emit(\"resetGame\", {\n      gameId\n    });\n    setBoard(Array(9).fill(null));\n    setGameStarted(false);\n    setWaitingForPlayer(false);\n  };\n  const logOut = () => {\n    localStorage.removeItem(\"playerId\");\n    localStorage.removeItem(\"gameId\");\n    localStorage.removeItem(\"playerName\");\n\n    // player leave game\n    socket.emit(\"leaveGame\", {\n      playerId,\n      gameId\n    });\n    setPlayerId(null);\n    setPlayerName(\"\");\n    setGameStarted(false);\n    setIsPlayerOne(false);\n    setIsPlayerTwo(false);\n    setGameId(\"\");\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 24\n    }, this), showNotificationMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notification-message\",\n      children: showNotificationMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 9\n    }, this), !gameStarted ? /*#__PURE__*/_jsxDEV(WelcomeModal, {\n      playerName: playerName,\n      onNameChange: handleNameChange,\n      onStart: handleStartGame,\n      gameId: gameId,\n      setGameId: handleGameIdChange,\n      isPlayerOne: isPlayerOne,\n      onJoinGame: handleJoinGameOrRegister\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Tic-Tac-Toe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Welcome \", playerName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 11\n      }, this), waitingForPlayer && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Waiting for Player Two to join...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 32\n      }, this), gameStarted && /*#__PURE__*/_jsxDEV(GameBoard, {\n        board: board,\n        onMakeMove: makeMove\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 27\n      }, this), gameStarted && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Game started! Your game ID: \", gameId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"reset-game-btn\",\n        onClick: handleResetGame,\n        children: \"Reset Game\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"log-out-btn\",\n        onClick: logOut,\n        children: \"Log Out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 356,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"9N4k/TSjb3dLV+X+EBECmxIBspI=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["io","useEffect","useState","GameBoard","WelcomeModal","GameStatus","jsxDEV","_jsxDEV","Fragment","_Fragment","socket","path","App","_s","playerName","setPlayerName","playerId","setPlayerId","board","setBoard","Array","fill","gameId","setGameId","gameStarted","setGameStarted","waitingForPlayer","setWaitingForPlayer","errorMessage","setErrorMessage","showNotificationMessage","setNotificationMessage","isPlayerOne","setIsPlayerOne","isPlayerTwo","setIsPlayerTwo","availableGames","setAvailableGames","sessionID","setSessionID","isLoading","setIsLoading","session","sessionStorage","getItem","console","log","on","response","valid","updateGameStateFromResponse","removeItem","emit","off","handleStartGame","trim","alert","name","handleJoinGameOrRegister","undefined","handleNameChange","newName","handleGameIdChange","newGameId","storedGameId","localStorage","storedIsPlayerOne","storedGameStarted","storedPlayerId","storedPlayerName","savedBoard","JSON","parse","handlePlayerResponse","res","setItem","type","player","game","playerTwo","id","handleGameResponse","newGame","handleGameJoinedResponse","updateGame","message","handleGameStateResponse","isCurrentPlayerOne","playerOneId","isCurrentPlayerTwo","playerTwoId","status","Finished","handleGameResetResponse","error","stringify","makeMove","position","handleResetGame","logOut","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onNameChange","onStart","onJoinGame","onMakeMove","onClick","_c","$RefreshReg$"],"sources":["/Users/paulndam/Documents/Wise-Rock-Tech-Interview/tic-tac-toe/frontend/tic-tac-toe/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport { io } from \"socket.io-client\";\nimport { useEffect, useState } from \"react\";\nimport GameBoard from \"./components/game-board/GameBoard\";\nimport WelcomeModal from \"./components/welcomeModal/WelcomeModal\";\nimport { GameStatus } from \"./components/utils/gameStatus\";\n\nconst socket = io(\"http://localhost:8080\", {\n  path: \"/socket.io\",\n});\n\nfunction App() {\n  const [playerName, setPlayerName] = useState(\"\");\n  const [playerId, setPlayerId] = useState(null);\n  const [board, setBoard] = useState(Array(9).fill(null));\n  const [gameId, setGameId] = useState(\"\");\n  const [gameStarted, setGameStarted] = useState(false);\n  const [waitingForPlayer, setWaitingForPlayer] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [showNotificationMessage, setNotificationMessage] = useState(\"\");\n  const [isPlayerOne, setIsPlayerOne] = useState(false);\n  const [isPlayerTwo, setIsPlayerTwo] = useState(false);\n  const [availableGames, setAvailableGames] = useState([]);\n  const [sessionID, setSessionID] = useState(null);\n  const [isLoading, setIsLoading] = useState(true); // New loading state\n\n\n  useEffect(() => {\n    const session = sessionStorage.getItem(\"sessionID\");\n    console.log(\"session ======>\",session)\n    if (session) {\n      // Use a specific event for handling session validation responses\n      socket.on(\"sessionValidationResponse\", (response) => {\n        console.log(\"session response =======>\",response)\n        if (response.valid) {\n          updateGameStateFromResponse(response);\n          setIsLoading(false); // Validation complete, update loading state\n        } else {\n          sessionStorage.removeItem(\"sessionID\");\n          setIsLoading(false); // Validation failed, update loading state\n        }\n      });\n\n      // Emit the validateSession event and wait for the response\n      socket.emit(\"validateSession\", { sessionID: session });\n    } else {\n      setIsLoading(false); // No session ID, not loading\n    }\n\n    // Cleanup: Remove the listener on component unmount\n    return () => socket.off(\"sessionValidationResponse\");\n  }, []);\n\n  \n\n  const updateGameStateFromResponse = (response) => {\n    // Consolidated game state update logic\n    setPlayerId(response.playerId);\n    setPlayerName(response.playerName);\n    setGameId(response.gameId);\n    setBoard(response.board);\n    setIsPlayerOne(response.isPlayerOne);\n    setGameStarted(response.gameStarted);\n    setIsPlayerTwo(response.isPlayerTwo);\n    // Additional updates as necessary...\n  };\n\n  const handleStartGame = () => {\n    if (!playerName.trim()) {\n      alert(\"Please enter a name.\");\n      return;\n    }\n    if (!playerId) {\n      setIsPlayerOne(true);\n      console.log(\"Creating Player...\");\n      socket.emit(\"createPlayer\", { name: playerName.trim() });\n      setWaitingForPlayer(true);\n    }\n  };\n\n  const handleJoinGameOrRegister = () => {\n    if (!playerName.trim() || (gameId && !gameId.trim())) {\n      alert(\"Please enter a name and, if joining a game, a valid game ID.\");\n      return;\n    }\n\n    if (!playerId) {\n      console.log(\n        gameId ? \"Joining Game as Player Two...\" : \"Creating Player and Game...\"\n      );\n\n      socket.emit(\n        \"createPlayer\",\n        {\n          name: playerName.trim(),\n          gameId: gameId || undefined,\n        }\n\n      );\n    }\n  };\n\n  const handleNameChange = (newName) => {\n    setPlayerName(newName);\n  };\n\n  const handleGameIdChange = (newGameId) => {\n    setGameId(newGameId);\n  };\n\n  useEffect(() => {\n    const storedGameId = localStorage.getItem(\"gameId\");\n    const storedIsPlayerOne = localStorage.getItem(\"isPlayerOne\") === \"true\";\n    const storedGameStarted = localStorage.getItem(\"gameStarted\") === \"true\";\n\n    if (storedGameId) {\n      socket.emit(\"requestGameState\", { gameId: storedGameId });\n    } else {\n      setGameStarted(storedGameStarted && storedIsPlayerOne);\n    }\n  }, []);\n\n  // useEffect(() => {\n  //   const storedPlayerId = localStorage.getItem(\"playerId\");\n  //   const storedGameId = localStorage.getItem(\"gameId\");\n\n  //   // Only set isPlayerOne or gameStarted based on explicit server validation\n  //   if (storedGameId && storedPlayerId) {\n  //     // Request current game state from the server to validate\n  //     socket.emit(\"requestGameState\", { gameId: storedGameId });\n  //   }\n  // }, []);\n\n  useEffect(() => {\n    const session = sessionStorage.getItem(\"sessionID\");\n    if (session) {\n      setSessionID(session);\n      // Validate session with the server to restore state\n      socket.emit(\"validateSession\", { sessionID: session }, (response) => {\n        if (response.valid) {\n          // Assume response includes all necessary state information\n          setPlayerId(response.playerId);\n          setPlayerName(response.playerName);\n          setGameId(response.gameId);\n          setBoard(response.board);\n          setIsPlayerOne(response.isPlayerOne);\n          setGameStarted(response.gameStarted);\n          // handle other necessary state updates based on the response\n        } else {\n          // Handle invalid session scenario\n          sessionStorage.removeItem(\"sessionID\"); // Clear invalid session\n          setSessionID(null); // Reset session state\n          // Potentially navigate user to a start or join game screen\n        }\n      });\n    }\n  }, [socket]);\n\n  useEffect(() => {\n    const storedPlayerId = localStorage.getItem(\"playerId\");\n    const storedPlayerName = localStorage.getItem(\"playerName\");\n    const storedGameId = localStorage.getItem(\"gameId\");\n    const storedIsPlayerOne = localStorage.getItem(\"isPlayerOne\");\n    const storedGameStarted = localStorage.getItem(\"gameStarted\");\n    const savedBoard = localStorage.getItem(\"board\");\n\n    if (savedBoard) {\n      setBoard(JSON.parse(savedBoard));\n    }\n\n    if (storedPlayerId && storedPlayerName) {\n      setPlayerId(storedPlayerId);\n      setPlayerName(storedPlayerName);\n      setIsPlayerTwo(!isPlayerOne);\n    }\n\n    // if (storedGameId) {\n    //   setGameId(storedGameId);\n    //   setIsPlayerOne(storedIsPlayerOne === \"true\");\n    //   // if (!storedPlayerId) {\n    //   //   setIsPlayerOne(false);\n    //   // }\n    //   setGameStarted(storedGameStarted === \"true\" || storedIsPlayerOne === \"true\");\n\n    // }\n\n    // if(storedGameId){\n    //   console.log(\"Requesting game state for gameId:\", storedGameId);\n\n    //   socket.emit(\"requestGameState\",{gameId:storedGameId})\n    // }\n\n    const handlePlayerResponse = (res) => {\n      console.log(\"response from creating player ===>\", res);\n      if (res.sessionID) {\n        // Store the session ID in sessionStorage\n        sessionStorage.setItem(\"sessionID\", res.sessionID);\n        setSessionID(res.sessionID);\n      }\n      if (res.type === \"playerCreated\") {\n        const { playerId, name } = res.player;\n        localStorage.setItem(\"playerId\", playerId);\n        localStorage.setItem(\"playerName\", name);\n\n        setPlayerId(playerId);\n        setPlayerName(name);\n        setIsPlayerTwo(false);\n      } else if (res.type === \"joinedGame\") {\n        const { game, playerTwo } = res;\n        localStorage.setItem(\"gameId\", game.gameId);\n        localStorage.setItem(\"playerId\", playerTwo.id);\n        setGameId(game.gameId);\n        setGameStarted(true);\n        setIsPlayerTwo(true);\n        setWaitingForPlayer(false);\n        setNotificationMessage(\n          `Joined game successfully. Your game ID: ${game.gameId}. Waiting for the game to start.`\n        );\n      }\n    };\n\n    const handleGameResponse = (res) => {\n      console.log(\"response from creating game ===>\", res);\n      if (res.newGame) {\n        const { gameId } = res.newGame;\n        localStorage.setItem(\"gameId\", gameId);\n        localStorage.setItem(\"isPlayerOne\", \"true\");\n        setGameId(gameId);\n        setGameStarted(true);\n        setIsPlayerOne(true);\n        setWaitingForPlayer(true);\n      }\n    };\n\n    const handleGameJoinedResponse = (response) => {\n      console.log(\"Game join response:====>\", response);\n      if (response.type === \"gameJoined\") {\n        // Success, a player has joined the game\n        const { updateGame, playerTwo } = response;\n        localStorage.setItem(\"gameId\", gameId);\n        setGameId(gameId);\n        setGameStarted(true);\n        setWaitingForPlayer(false);\n        setNotificationMessage(\n          `Player ${playerTwo.name} has joined your game. The game has started!`\n        );\n      } else if (response.type === \"error\") {\n        setErrorMessage(response.message);\n      }\n    };\n\n    const handleGameStateResponse = (response) => {\n      if (response.type === \"gameState\") {\n        const isCurrentPlayerOne = response.playerOneId === playerId;\n        const isCurrentPlayerTwo = response.playerTwoId === playerId;\n\n        setGameStarted(response.status !== GameStatus.Finished);\n        setIsPlayerOne(isCurrentPlayerOne);\n        setIsPlayerTwo(isCurrentPlayerTwo);\n\n        if (isCurrentPlayerTwo) {\n          setWaitingForPlayer(false);\n        }\n      } else if (response.type === \"error\") {\n      }\n    };\n\n    const handleGameResetResponse = (response) => {\n      console.log(\"Game reset response:==>\", response);\n      if (response.type === \"gameReset\") {\n        setBoard(Array(9).fill(null)); // Reset the board state\n        setGameStarted(false);\n        setWaitingForPlayer(false);\n        console.log(\"Game has been reset\");\n      }\n    };\n\n    // Register socket event listeners\n    socket.on(\"playerResponse\", handlePlayerResponse);\n    socket.on(\"gameResponse\", handleGameResponse);\n    socket.on(\"gameJoinedResponse\", handleGameJoinedResponse);\n    socket.on(\"gameResetResponse\", handleGameResetResponse);\n    socket.on(\"gameStateResponse\", handleGameStateResponse);\n\n    socket.on(\"playerResponse\", (error) => {\n      if (error.type === \"error\") {\n        setErrorMessage(error.message);\n      }\n    });\n\n    socket.on(\"gameResponse\", (error) => {\n      if (error.type === \"error\") {\n        setErrorMessage(error.message);\n      }\n    });\n\n    return () => {\n      socket.off(\"playerResponse\", handlePlayerResponse);\n      socket.off(\"gameResponse\", handleGameResponse);\n      socket.off(\"gameJoinedResponse\", handleGameJoinedResponse);\n      socket.off(\"gameResetResponse\", handleGameResetResponse); // Fixed typo here\n      socket.off(\"gameStateResponse\", handleGameStateResponse);\n    };\n  }, [isPlayerOne, playerId, gameId]);\n\n  useEffect(() => {\n    if (isPlayerOne && !gameId) {\n      console.log(\n        \"Player is Player One and no gameId exists, creating game...\"\n      );\n      socket.emit(\"createGame\", { playerId: playerId });\n    }\n  }, [isPlayerOne, gameId, playerId]);\n\n  useEffect(() => {\n    localStorage.setItem(\"board\", JSON.stringify(board));\n  }, [board]);\n\n  const makeMove = (position) => {\n    socket.emit(\"makeMove\", { playerId, gameId, position });\n  };\n\n  const handleResetGame = () => {\n    if (!gameId) {\n      console.log(\"No game to reset\");\n      return;\n    }\n    socket.emit(\"resetGame\", { gameId });\n\n    setBoard(Array(9).fill(null));\n    setGameStarted(false);\n    setWaitingForPlayer(false);\n  };\n\n  const logOut = () => {\n    localStorage.removeItem(\"playerId\");\n    localStorage.removeItem(\"gameId\");\n    localStorage.removeItem(\"playerName\");\n\n    // player leave game\n    socket.emit(\"leaveGame\", { playerId, gameId });\n\n    setPlayerId(null);\n    setPlayerName(\"\");\n    setGameStarted(false);\n    setIsPlayerOne(false);\n    setIsPlayerTwo(false);\n    setGameId(\"\");\n  };\n\n  if (isLoading) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <div className=\"App\">\n      {errorMessage && <div className=\"error-message\">{errorMessage}</div>}\n      {showNotificationMessage && (\n        <div className=\"notification-message\">{showNotificationMessage}</div>\n      )}\n\n      {!gameStarted ? (\n        <WelcomeModal\n          playerName={playerName}\n          onNameChange={handleNameChange}\n          onStart={handleStartGame}\n          gameId={gameId}\n          setGameId={handleGameIdChange}\n          isPlayerOne={isPlayerOne}\n          onJoinGame={handleJoinGameOrRegister}\n        />\n      ) : (\n        <>\n          <div className=\"header\">\n            <h1>Tic-Tac-Toe</h1>\n            <h2>Welcome {playerName}</h2>\n          </div>\n\n          {waitingForPlayer && <div>Waiting for Player Two to join...</div>}\n          {gameStarted && <GameBoard board={board} onMakeMove={makeMove} />}\n          {gameStarted && <div>Game started! Your game ID: {gameId}</div>}\n          <button className=\"reset-game-btn\" onClick={handleResetGame}>\n            Reset Game\n          </button>\n\n          <button className=\"log-out-btn\" onClick={logOut}>\n            Log Out\n          </button>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}